

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Minuit sampler &mdash; CosmoSIS 3.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=26f62d79"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="The Gridmax sampler" href="gridmax.html" />
    <link rel="prev" title="The Maxlike sampler" href="maxlike.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            CosmoSIS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro/overview.html">CosmoSIS Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/installation.html">Installing CosmoSIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using CosmoSIS:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../usage/tutorials.html">Tutorials: Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../usage/samplers.html">Samplers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../usage/samplers.html#simple-samplers">Simple Samplers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/samplers.html#mcmc-samplers">MCMC Samplers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/samplers.html#nested-samplers">Nested Samplers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../usage/samplers.html#optimizers">Optimizers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="maxlike.html"> maxlike: Find the maximum likelihood using various methods in scipy</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"> minuit sampler MPI-aware maxlike sampler from the ROOT package.</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gridmax.html"> gridmax: Naive grid maximum-posterior</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/samplers.html#grid-samplers">Grid Samplers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage/samplers.html#specialist-samplers">Specialist Samplers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/parameter_files.html">CosmoSIS Parameter Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/standard_library_overview.html">Standard Library Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/upgrading.html">Upgrading from the previous CosmoSIS Version</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bonus Features:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../features/sampler_features.html">Sampler Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features/pipeline_features.html">Pipeline Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features/parameter_features.html">Parameter Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features/campaign.html">Managing sets of runs with a Campaign</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/api_python.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api_c.html">C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api_cpp.html">C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api_f90.html">Fortran API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cosmosis_command_line.html">Command line flags for cosmosis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cosmosis_campaign.html">cosmosis-campaign</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cosmosis_configure.html">Command line flags for cosmosis-configure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cosmosis_extract.html">Command line flags for cosmosis-extract</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cosmosis_sample_fisher.html">Command line flags for cosmosis-sample-fisher</a></li>
<li class="toctree-l1"><a class="reference internal" href="../postprocess_command_line.html">Command line flags for postprocess</a></li>
<li class="toctree-l1"><a class="reference internal" href="../standard_library_complete.html">Standard Library Complete Listing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Misc:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scripting.html">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nersc_examples.html">NERSC Submission Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../help/faq.html">Frequently Asked Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CosmoSIS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../usage/samplers.html">Samplers</a></li>
      <li class="breadcrumb-item active">The Minuit sampler</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/reference/samplers/minuit.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-minuit-sampler">
<h1>The Minuit sampler<a class="headerlink" href="#the-minuit-sampler" title="Link to this heading">ÔÉÅ</a></h1>
<p>Find the maximum posterior using the MINUIT library</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>minuit</p></td>
</tr>
<tr class="row-even"><td><p>Version</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td><p>Author(s)</p></td>
<td><p>SciPy developers</p></td>
</tr>
<tr class="row-even"><td><p>URL</p></td>
<td><p><a class="reference external" href="https://seal.web.cern.ch/seal/MathLibs/Minuit2/html/">https://seal.web.cern.ch/seal/MathLibs/Minuit2/html/</a></p></td>
</tr>
<tr class="row-odd"><td><p>Citation(s)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Parallelism</p></td>
<td><p>serial</p></td>
</tr>
</tbody>
</table>
<p>This sampler attempts to find the single point in parameter space with the highest posterior probability.  It is a wrapper around the powerful MINUIT2 library that is widely used in particle physics.</p>
<p>Minuit is one of the more robust optimizers, but you should still try starting the sampler from a few different points to make sure they converge to the same place.</p>
<p>By default this wrapper uses the MIGRAD algorithm, which is pretty robust unless  there are sharp edges in the parameter space.  It also re-parameterizes so that the formal parameter edges (the limits in your values file) are shifted to +- infinity.</p>
<p>At the end of the sampling a covariance estimate is also returned.</p>
<p>Note on parallelism: The minuit2 sampler can be used in parallel, but the version that is packaged with the CosmoSIS auto-installer does not support that yet, so at the moment we are only supporting serial sampling (no MPI).</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">ÔÉÅ</a></h2>
<p>Requires the Minuit2 library. the auto-installer includes Minuit2, but if you are installing manually you may need to download and install from your package manager or the URL above. You will also need to set the MINUIT2_INC and MINUIT2_LIB environment variables in your setup script to point to the directories of the minuit2 headers and libraries respectively. (The minuit2 headers directory has two subdirectories, called Minuit2 and Math. The MINUIT2_INC should point to the parent directory, not the subdir).</p>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">ÔÉÅ</a></h2>
<p>These parameters can be set in the sampler‚Äôs section in the ini parameter file.
If no default is specified then the parameter is required. A listing of ‚Äú(empty)‚Äù means a blank string is the default.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>maxiter</p></td>
<td><p>integer</p></td>
<td><p>1000</p></td>
<td><p>Maximum number of likelihood calculations to do</p></td>
</tr>
<tr class="row-odd"><td><p>width_estimate</p></td>
<td><p>float</p></td>
<td><p>0.05</p></td>
<td><p>A guess of the parameter posterior widths as a fraction of their range. Can speed convergence the more accurate it is but does not need to be very exact.</p></td>
</tr>
<tr class="row-even"><td><p>tolerance</p></td>
<td><p>real</p></td>
<td><p>0.05</p></td>
<td><p>The tolerance parameter in milliSigmas - the default setting will try to get within 0.05 sigma of the best-fit.</p></td>
</tr>
<tr class="row-odd"><td><p>save_dir</p></td>
<td><p>string</p></td>
<td><p>(empty)</p></td>
<td><p>If set, save the data block containing the cosmology at the best-fit point to this directory name</p></td>
</tr>
<tr class="row-even"><td><p>output_ini</p></td>
<td><p>string</p></td>
<td><p>(empty)</p></td>
<td><p>if present, save the resulting parameters to a new ini file with this name</p></td>
</tr>
<tr class="row-odd"><td><p>save_cov</p></td>
<td><p>string</p></td>
<td><p>(empty)</p></td>
<td><p>if present and the sampler supports it, save the estimated covariance to this file</p></td>
</tr>
<tr class="row-even"><td><p>verbose</p></td>
<td><p>bool</p></td>
<td><p>F</p></td>
<td><p>Print more information to the command line.</p></td>
</tr>
<tr class="row-odd"><td><p>strategy</p></td>
<td><p>string</p></td>
<td><p>medium</p></td>
<td><p>Choose from fast, medium, and safe. Safe mode means slower convergence but less chance of failure. Fast means the opposite.</p></td>
</tr>
<tr class="row-even"><td><p>algorithm</p></td>
<td><p>string</p></td>
<td><p>migrad</p></td>
<td><p>Choose from migrad, simplex, and fallback. Migrad is better unless there are strange parameter space cliffs. Fallback tries migrad first and if it fails tries simplex.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="maxlike.html" class="btn btn-neutral float-left" title="The Maxlike sampler" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="gridmax.html" class="btn btn-neutral float-right" title="The Gridmax sampler" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, The CosmoSIS Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>